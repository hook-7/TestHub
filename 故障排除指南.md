# ğŸ”§ è‡ªåŠ¨åŒ–å‘½ä»¤æ¨¡å— - æ•…éšœæ’é™¤æŒ‡å—

## ğŸš¨ å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### 1. å‰ç«¯å¯¼å…¥é”™è¯¯

#### é—®é¢˜ï¼š`The requested module '/src/api/index.ts' does not provide an export named 'request'`

**åŸå› **: APIå¯¼å…¥åç§°é”™è¯¯  
**è§£å†³æ–¹æ¡ˆ**:
```typescript
// âŒ é”™è¯¯çš„å¯¼å…¥
import { request } from './index'

// âœ… æ­£ç¡®çš„å¯¼å…¥  
import { api } from './index'

// âœ… æ­£ç¡®çš„APIè°ƒç”¨
return api.post<AutomationCommand>('/automation/commands', request)
```

#### é—®é¢˜ï¼š`response.code is undefined`

**åŸå› **: APIå“åº”æ ¼å¼å¤„ç†é”™è¯¯  
**è§£å†³æ–¹æ¡ˆ**: APIæ‹¦æˆªå™¨å·²å¤„ç†å“åº”æ ¼å¼ï¼Œç›´æ¥ä½¿ç”¨è¿”å›çš„æ•°æ®
```typescript
// âŒ é”™è¯¯çš„å¤„ç†æ–¹å¼
const response = await AutomationAPI.getTemplates()
if (response.code === 0) {
  templates.value = response.data
}

// âœ… æ­£ç¡®çš„å¤„ç†æ–¹å¼
const templates = await AutomationAPI.getTemplates()
templates.value = templates || []
```

### 2. åç«¯å¯¼å…¥é”™è¯¯

#### é—®é¢˜ï¼š`ModuleNotFoundError: No module named 'app.api.v1.schemas'`

**åŸå› **: ç›¸å¯¹å¯¼å…¥è·¯å¾„é”™è¯¯  
**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ç»å¯¹å¯¼å…¥
```python
# âŒ é”™è¯¯çš„å¯¼å…¥
from ..schemas.automation import AutomationCommandRequest

# âœ… æ­£ç¡®çš„å¯¼å…¥
from app.schemas.automation import AutomationCommandRequest
```

#### é—®é¢˜ï¼š`ModuleNotFoundError: No module named 'pydantic'`

**è§£å†³æ–¹æ¡ˆ1**: å®‰è£…ä¾èµ–
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv .venv
source .venv/bin/activate  # Linux/Mac
# æˆ– .venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install fastapi uvicorn pydantic pydantic-settings
```

**è§£å†³æ–¹æ¡ˆ2**: ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬
```python
# ä½¿ç”¨æ— å¤–éƒ¨ä¾èµ–çš„ç®€åŒ–ç‰ˆæœ¬
from app.services.automation_service_simple import automation_service_simple
from app.schemas.automation_simple import AutomationCommandRequest
```

### 3. æœåŠ¡å¯åŠ¨é—®é¢˜

#### é—®é¢˜ï¼š`uv: command not found`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ–¹æ³•1: å®‰è£…uv
curl -LsSf https://astral.sh/uv/install.sh | sh
source ~/.bashrc

# æ–¹æ³•2: ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
cd backend && python -m uvicorn app.main:app --reload
```

#### é—®é¢˜ï¼š`Failed to connect to localhost port 8000`

**æ£€æŸ¥æ­¥éª¤**:
1. ç¡®è®¤åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
3. æŸ¥çœ‹æœåŠ¡å¯åŠ¨æ—¥å¿—

```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep uvicorn

# æ£€æŸ¥ç«¯å£
netstat -tlnp | grep 8000

# æ‰‹åŠ¨å¯åŠ¨æœåŠ¡
cd backend && python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### 4. å‰ç«¯ç»„ä»¶é—®é¢˜

#### é—®é¢˜ï¼š`Cannot resolve component: AutomationToolbar`

**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥ç»„ä»¶å¯¼å…¥å’Œæ³¨å†Œ
```vue
<script setup>
// ç¡®ä¿æ­£ç¡®å¯¼å…¥ç»„ä»¶
import AutomationToolbar from '@/components/AutomationToolbar.vue'
</script>

<template>
  <!-- ç¡®ä¿ç»„ä»¶åç§°æ­£ç¡® -->
  <AutomationToolbar />
</template>
```

#### é—®é¢˜ï¼šElement Plus ç»„ä»¶æœªå®šä¹‰

**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥Element Pluså®‰è£…å’Œå¯¼å…¥
```bash
# å®‰è£…Element Plus
cd frontend && npm install element-plus @element-plus/icons-vue

# æ£€æŸ¥main.tsä¸­çš„é…ç½®
import ElementPlus from 'element-plus'
import 'element-plus/dist/index.css'
```

### 5. APIå“åº”æ ¼å¼é—®é¢˜

#### é—®é¢˜ï¼šå“åº”æ•°æ®æ ¼å¼ä¸åŒ¹é…

**æ£€æŸ¥é¡¹ç›®çš„APIå“åº”æ ¼å¼**:
```typescript
// æ ‡å‡†å“åº”æ ¼å¼
{
  "code": 0,
  "msg": "success", 
  "data": {...}
}

// APIæ‹¦æˆªå™¨å·²å¤„ç†ï¼Œç›´æ¥è¿”å›dataéƒ¨åˆ†
const result = await api.get('/automation/templates')
// result ç›´æ¥æ˜¯ data éƒ¨åˆ†ï¼Œä¸éœ€è¦ result.data
```

---

## ğŸ› ï¸ è°ƒè¯•å·¥å…·

### 1. APIæµ‹è¯•é¡µé¢
```bash
# ä½¿ç”¨æä¾›çš„æµ‹è¯•é¡µé¢
open test_frontend_api.html
# æˆ–ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
```

### 2. åç«¯APIæ–‡æ¡£
```
http://localhost:8000/api/v1/docs
```

### 3. æ‰‹åŠ¨APIæµ‹è¯•
```bash
# è·å–æ¨¡æ¿åˆ—è¡¨
curl -X GET "http://localhost:8000/api/v1/automation/templates"

# æ‰§è¡Œæ¨¡æ¿å‘½ä»¤
curl -X POST "http://localhost:8000/api/v1/automation/templates/clear_cache/execute" \
  -H "Content-Type: application/json" \
  -d '{}'
```

### 4. å‰ç«¯è°ƒè¯•
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æµ‹è¯•
import('/src/api/automation.ts').then(module => {
  const { AutomationAPI } = module;
  AutomationAPI.getTemplates().then(console.log);
});
```

---

## ğŸ“ å¿«é€Ÿä¿®å¤æ¸…å•

### å‰ç«¯é—®é¢˜
- [ ] æ£€æŸ¥ `import { api } from './index'` å¯¼å…¥æ˜¯å¦æ­£ç¡®
- [ ] ç¡®è®¤APIè°ƒç”¨ä½¿ç”¨ `api.get()` / `api.post()` æ ¼å¼
- [ ] éªŒè¯å“åº”æ•°æ®ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ `.data` å±æ€§
- [ ] æ£€æŸ¥Element Plusç»„ä»¶æ˜¯å¦æ­£ç¡®å¯¼å…¥

### åç«¯é—®é¢˜  
- [ ] ä½¿ç”¨ç»å¯¹å¯¼å…¥ `from app.schemas.automation import ...`
- [ ] ç¡®è®¤pydanticç­‰ä¾èµ–å·²å®‰è£…
- [ ] æ£€æŸ¥è·¯ç”±æ˜¯å¦æ­£ç¡®æ³¨å†Œåˆ°ä¸»åº”ç”¨
- [ ] éªŒè¯APIå“åº”æ ¼å¼ç¬¦åˆé¡¹ç›®è§„èŒƒ

### é›†æˆé—®é¢˜
- [ ] ç¡®è®¤å‰åç«¯æœåŠ¡éƒ½åœ¨è¿è¡Œ
- [ ] æ£€æŸ¥CORSé…ç½®æ˜¯å¦æ­£ç¡®
- [ ] éªŒè¯APIè·¯å¾„æ˜¯å¦åŒ¹é…
- [ ] æµ‹è¯•ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

---

## ğŸ†˜ åº”æ€¥æ–¹æ¡ˆ

å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹åº”æ€¥æ–¹æ¡ˆï¼š

### 1. ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬
```python
# åç«¯ä½¿ç”¨ç®€åŒ–æœåŠ¡
from app.services.automation_service_simple import automation_service_simple
```

### 2. ç‹¬ç«‹æµ‹è¯•
```bash
# è¿è¡Œç‹¬ç«‹æ¼”ç¤º
python3 automation_complete_demo.py
```

### 3. æ‰‹åŠ¨APIæµ‹è¯•
```bash
# ä½¿ç”¨curlæµ‹è¯•API
curl http://localhost:8000/api/v1/automation/templates
```

### 4. å‰ç«¯é™çº§
```vue
<!-- ä¸´æ—¶ç¦ç”¨è‡ªåŠ¨åŒ–åŠŸèƒ½ -->
<div v-if="false">
  <AutomationToolbar />
</div>
```

---

## ğŸ“ è·å–å¸®åŠ©

1. **æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—** - æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. **æ£€æŸ¥ç½‘ç»œè¯·æ±‚** - Networké€‰é¡¹å¡æŸ¥çœ‹APIè°ƒç”¨
3. **åç«¯æ—¥å¿—** - æŸ¥çœ‹uvicornæœåŠ¡è¾“å‡º
4. **ä½¿ç”¨æµ‹è¯•å·¥å…·** - test_frontend_api.html

è®°ä½ï¼š**è‡ªåŠ¨åŒ–æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½å·²ç»éªŒè¯æ­£å¸¸å·¥ä½œ**ï¼Œå¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯ç¯å¢ƒé…ç½®æˆ–å¯¼å…¥è·¯å¾„é—®é¢˜ï¼ŒæŒ‰ç…§ä¸Šè¿°æŒ‡å—é€æ­¥æ’æŸ¥å³å¯è§£å†³ã€‚